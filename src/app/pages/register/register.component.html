<div class="min-h-[calc(100vh-350px)] flex items-center justify-center py-4">
  <div
    class="max-w-lg w-full bg-cyan-blue-500 dark:bg-blue-violet-500 rounded-md p-4 m-4 md:p-10"
  >
    <div class="flex flex-col text-center">
      <app-icon-logo class="text-white m-auto"></app-icon-logo>
      <app-text
        variant="title-bold"
        color="text-white"
        class="mt-6 text-center"
      >
        Criar conta
      </app-text>
      <app-text
        variant="text-small"
        color="text-white"
        class="mt-2 text-center"
      >
        Crie sua conta ByteBank
      </app-text>
    </div>

    <form class="mt-8 space-y-6" (ngSubmit)="onSubmit()" #registerForm="ngForm">
      <div class="flex flex-col gap-2 rounded-md shadow-sm space-y-4">
        <div>
          <label for="name" class="block text-sm font-medium text-white mb-1">
            Nome completo
          </label>
          <input
            id="name"
            name="name"
            type="text"
            autocomplete="name"
            required
            [(ngModel)]="credentials.name"
            (input)="clearError(); clearSuccess()"
            class="w-full bg-gray-100 border border-cyan-blue-500 text-cyan-blue-500 font-lato font-medium rounded-md p-4"
            placeholder="Digite seu nome completo"
          />
        </div>

        <div>
          <label
            for="username"
            class="block text-sm font-medium text-white mb-1"
          >
            Nome de usuário
          </label>
          <input
            id="username"
            name="username"
            type="text"
            autocomplete="username"
            required
            [(ngModel)]="credentials.username"
            (input)="clearError(); clearSuccess()"
            class="w-full bg-gray-100 border border-cyan-blue-500 text-cyan-blue-500 font-lato font-medium rounded-md p-4"
            placeholder="Digite seu nome de usuário"
          />
        </div>

        <div>
          <label for="email" class="block text-sm font-medium text-white mb-1">
            Email
          </label>
          <input
            id="email"
            name="email"
            type="email"
            autocomplete="email"
            required
            [(ngModel)]="credentials.email"
            (input)="clearError(); clearSuccess()"
            class="w-full bg-gray-100 border border-cyan-blue-500 text-cyan-blue-500 font-lato font-medium rounded-md p-4"
            placeholder="Digite seu email"
          />
        </div>

        <div>
          <label
            for="password"
            class="block text-sm font-medium text-white mb-1"
          >
            Senha
          </label>
          <div class="relative">
            <input
              id="password"
              name="password"
              [type]="showPassword ? 'text' : 'password'"
              autocomplete="new-password"
              required
              [(ngModel)]="credentials.password"
              (input)="clearError(); clearSuccess()"
              class="w-full bg-gray-100 border border-cyan-blue-500 text-cyan-blue-500 font-lato font-medium rounded-md p-4 pr-10"
              placeholder="Digite sua senha"
            />
            <button
              type="button"
              class="absolute inset-y-0 right-0 pr-3 flex items-center"
              (click)="togglePasswordVisibility()"
            >
              <app-icon-eye
                class="h-5 w-5 text-black hover:text-gray-700"
                [class.opacity-50]="!showPassword"
              ></app-icon-eye>
            </button>
          </div>
        </div>

        <div>
          <label
            for="confirmPassword"
            class="block text-sm font-medium text-white mb-1"
          >
            Confirmar senha
          </label>
          <div class="relative">
            <input
              id="confirmPassword"
              name="confirmPassword"
              [type]="showConfirmPassword ? 'text' : 'password'"
              autocomplete="new-password"
              required
              [(ngModel)]="confirmPassword"
              (input)="clearError(); clearSuccess()"
              class="w-full bg-gray-100 border border-cyan-blue-500 text-cyan-blue-500 font-lato font-medium rounded-md p-4 pr-10"
              placeholder="Confirme sua senha"
            />
            <button
              type="button"
              class="absolute inset-y-0 right-0 pr-3 flex items-center"
              (click)="toggleConfirmPasswordVisibility()"
            >
              <app-icon-eye
                class="h-5 w-5 text-black hover:text-gray-700"
                [class.opacity-50]="!showConfirmPassword"
              ></app-icon-eye>
            </button>
          </div>
        </div>
      </div>

      <!-- Error Message -->
      <div *ngIf="errorMessage" class="rounded-md bg-red-50 p-4">
        <div class="flex">
          <div class="flex-shrink-0">
            <app-icon-error></app-icon-error>
          </div>
          <div class="ml-3">
            <app-text variant="text-small" color="text-red-800">
              {{ errorMessage }}
            </app-text>
          </div>
        </div>
      </div>

      <!-- Success Message -->
      <div *ngIf="successMessage" class="rounded-md bg-green-50 p-4">
        <div class="flex">
          <div class="flex-shrink-0">
            <app-icon-success></app-icon-success>
          </div>
          <div class="ml-3">
            <app-text variant="text-small" color="text-green-800">
              {{ successMessage }}
            </app-text>
          </div>
        </div>
      </div>

      <div>
        <app-button
          type="submit"
          [disabled]="isLoading || !registerForm.form.valid"
          theme="secondary"
          size="GG"
          [label]="isLoading ? 'Carregando...' : 'Cadastrar'"
          class="w-full mt-2 h-16"
        >
          <app-icon-loading *ngIf="isLoading" icon-left></app-icon-loading>
        </app-button>
      </div>
    </form>

    <div class="text-center mt-10">
      <app-text variant="text-small">
        Já tem uma conta?
        <a
          routerLink="/login"
          class="font-medium text-indigo-300 hover:text-indigo-500"
        >
          Fazer login
        </a>
      </app-text>
    </div>
  </div>
</div>
